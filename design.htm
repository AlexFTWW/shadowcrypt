<!doctype html>
<meta charset="utf-8">
<script src="ShadowDOM/shadowdom.js"></script>
<body>
<p>Hello world!</p>
<p id="decoded1">basic text =?zerokit??uzizNx/D1eHTFLtNU2vh8fDv9iyA7G5ArKJkkOo=?= test</p>
<form method="post" action="http://echo.opera.com/">
<p><input id="testinput" name="q" value="=?zerokit??IUVJDKZkFig5mzMIi716Xw8bB1plPPIRywljzKM=?="></p>
<p>you said: <span id="display"></span></p>
</form>
<p><input type="button" value="remove input" onclick="removeInput()"></p>
<p><div id="test2" style="display:inline-block;padding:2px;width:132px;min-height:2em;background-color:#ffff80;" contenteditable>hello</div></p>
<p>you said: <code id="disp2"></code></p>
<p id="decoded2">and now the <em>html</em> test: &quot;=?zerokit?<a href="/hash/foo">#foo</a>,<a href="/user/bar">@bar</a>?T/iCKKgqUs5VU+nnQ8Ffi4501joBKj3h75J3zfsiUtCM0SrKJcpUJ8VPulXf8OLC7X2ttA==?=&quot; good luck</p>
<script>
var testinput = document.getElementById('testinput');
var display = document.getElementById('display');
testinput.addEventListener('change', function () {
	var v = testinput.value;
	console.log('onchange to ' + v);
	display.textContent = v;
});
function removeInput() {
	if (testinput) {
		testinput.parentNode.removeChild(testinput);
		testinput = null;
	}
}
var test2 = document.getElementById('test2');
var disp2 = document.getElementById('disp2');
test2.addEventListener('input', function () {
	var v = test2.innerHTML;
	console.log('contentEditable input to ' + v);
	disp2.textContent = v;
});
</script>
<p><a href="javascript:void(function () { var s = document.createElement('script'); s.src = '//inst.eecs.berkeley.edu/~warrenhe/zerokit/zerokit.js'; document.head.appendChild(s); }());">bookmarklet</a></p>
<p><input type="button" value="check light dom 1" onclick="alert(document.getElementById('decoded1').innerHTML)"></p>
<p><input type="button" value="check light dom 2" onclick="alert(document.getElementById('decoded2').innerHTML)"></p>
<script src="zerokit.js"></script>
